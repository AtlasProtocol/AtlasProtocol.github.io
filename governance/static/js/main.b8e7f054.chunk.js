(window.webpackJsonpgovernance=window.webpackJsonpgovernance||[]).push([[0],{143:function(t,e,a){t.exports={box:"style_box__dzq78","loader-01":"style_loader-01__1N6qy"}},19:function(t,e,a){t.exports={container:"style_container__vMP_3",cellContainer:"style_cellContainer__2XE2t",indexContainer:"style_indexContainer__2WUh2",middleContainer:"style_middleContainer__1pVDp",rightContainer:"style_rightContainer__CANtl",textSpan:"style_textSpan__3NQVf",textSpanBold:"style_textSpanBold__36yJE",declineButton:"style_declineButton__2qX5n",agreeButton:"style_agreeButton__TumXy",txContainer:"style_txContainer__dG5T_"}},21:function(t,e,a){t.exports={container:"style_container__1YADF",cellContainer:"style_cellContainer__3OomX",indexContainer:"style_indexContainer__w8A03",middleContainer:"style_middleContainer__14TTZ",rightContainer:"style_rightContainer__2XKW4",textSpan:"style_textSpan__1yd5i",textSpanBold:"style_textSpanBold__27p4g",declineButton:"style_declineButton__iR1Ts",agreeButton:"style_agreeButton__2bglx",txContainer:"style_txContainer__252hl"}},226:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAikAAACQCAMAAAD6Fwu4AAAAilBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////iVxWkAAAALXRSTlMAMBDQwGDwZoBAIKDgcJBQsAZTEyYaM006LUYN01ryupb2xsMihRaOtoSIjHx3424YAAAACXBIWXMAAAsSAAALEgHS3X78AAANGUlEQVR42u2d53bkLBKGrYAslNvtdpqdL2/evv/bW9vjsQABqiLK59T7c8bdkuChEiX65oZEIpFIJBKJRCKRSCQSiUQikUgkEklVS0NAgohdCxoE0r749UpGhbSvorleKxoG0p7K6vqqjgaCtKP6DZTrSANBsqt/B4XcD2k37fkQuR/STtrzIXI/pJ2050MLjQZpJ+35UEnjQbKnPR9iNB4ke9pD7ocETHvI/ZBgaQ+5HxIs7flQT4NC2kl7fqihUSHtpD0fmmlYSPa0h9wPCZj2kPs5WnDA35R/L6646kXuJ7s6NtWDvH7rum/HPNR0jYGUKUOuXotiqCWH0mak2edVwzx24fQk8sRMw9WsepoTl7w0ac+HhvSkTE51Yn5Fa9Mp3K5TEORJWnlaXRbN7kPwtJOzmO8kfYt+5RQpHZEUZZ7R63cBPATPuIozu5/SDdUDklL6xXy8uR6NFGa7k+TuR72b8cuSMnstOgZ7iJSkFPZbSe1+1LpO/WVJUU11FQGUlKR0DXI8I2sT639ZUjZpAiJPKZrDkWJOe1xWQgBwHcfieKSUV4+teXVWmlpWBlL24+u0BR7maNSORwrz2BuR8uth1OJQ8HGqm2SkTPsDmrZFf0subNaKeivBkQ2a/2ZxSends4NS8D39MY4SgMRNad2Pxj+HqHy1uL8PQcrgbp7H1evwQ3Cyl/ZkcD9FyKAtKymd5kmggcpnlNIc5GySDhZgp3Q/Y8jiX1ZSdE+yYJfLQV7OM6Y91ZytRX8N6nt/95eVlM+AqxqwWxNjxl03VNpTlYqPTbhfKfg8/+tnJeXTXrc9toy5HOw1mskMimI607XocyFPqL2b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"},232:function(t,e,a){t.exports=a(468)},237:function(t,e,a){},238:function(t,e,a){},24:function(t,e,a){t.exports={container:"style_container__n9ZJU",leftContainer:"style_leftContainer__mXr4G",rightContainer:"style_rightContainer__d6sMu",topButton:"style_topButton__1KMHv"}},25:function(t,e,a){t.exports={container:"style_container__1dw1C",cellContainer:"style_cellContainer__2daYW",indexContainer:"style_indexContainer__3lD7A",middleContainer:"style_middleContainer__3YCwe",rightContainer:"style_rightContainer__2idDS",textSpan:"style_textSpan__259hl",textSpanBold:"style_textSpanBold__XTL3t"}},29:function(t,e,a){t.exports={container:"style_container__2hacf",inputContainer:"style_inputContainer__hi5oX",txContainer:"style_txContainer__m2C1N",proposalInput:"style_proposalInput__1vd4H",inputName:"style_inputName__3Qq_9",genButton:"style_genButton__1QqyK"}},329:function(t,e){},331:function(t,e){},35:function(t,e,a){t.exports={container:"style_container__3TUf4",inputContainer:"style_inputContainer__E24tl",txContainer:"style_txContainer__18tvb",proposalInput:"style_proposalInput__1S8Z1",inputName:"style_inputName__1gTzc",genButton:"style_genButton__2RZjo"}},353:function(t,e){},355:function(t,e){},468:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(40),s=a.n(o),c=(a(237),a(238),a(47)),l=a(46),i=a(14),u=a(20),m=a(18),d=a(9),p=a(17),f=a(24),h=a.n(f),g=a(226),v=a.n(g),E=function(t){function e(t){return Object(i.a)(this,e),Object(m.a)(this,Object(d.a)(e).call(this,t))}return Object(p.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:h.a.container},r.a.createElement("div",{className:h.a.leftContainer},r.a.createElement("img",{src:v.a,style:{height:"40px",paddingTop:"5px"}})),r.a.createElement("div",{className:h.a.rightContainer},r.a.createElement("button",{className:h.a.topButton},r.a.createElement(c.b,{to:"/",className:h.a.topButton},"\u63d0\u6848")),r.a.createElement("button",{className:h.a.topButton},r.a.createElement(c.b,{to:"/vote",className:h.a.topButton},"\u6295\u7968")),r.a.createElement("button",{className:h.a.topButton},r.a.createElement(c.b,{to:"/transfer",className:h.a.topButton},"\u6267\u884c\u8f6c\u8d26")),r.a.createElement("button",{className:h.a.topButton},r.a.createElement(c.b,{to:"/history",className:h.a.topButton},"\u5386\u53f2\u63d0\u6848")),r.a.createElement("button",{className:h.a.topButton},r.a.createElement(c.b,{to:"/contract",className:h.a.topButton},"\u6cbb\u7406\u5408\u7ea6"))))}}]),e}(r.a.Component),x=(a(150),a(54)),S=a.n(x),A=a(4),N=a.n(A),C=a(10),y=(a(70),a(5)),k=a.n(y),b=a(29),_=a.n(b),O=a(141),B={nas:"https://mainnet.nebulas.io",nas_explorer:"https://explorer.nebulas.io/#/"},T=function(t){return P("".concat(B.nas,"/v1/user/accountstate"),t)},j=function(t){return P("".concat(B.nas,"/v1/user/call"),t)};function P(t,e){return O.a.post(t,{json:e}).json()}var I=a(96),w=a.n(I),U=a(143),F=a.n(U),J=(r.a.Component,a(97)),K=a.n(J),Q="contractAddress",L="fromAddress";function Z(){return M(Q)}function R(){return M(L)}function M(t){var e=K.a.get(t);return"undefined"===typeof e?"":e}var D=a(66),V=a.n(D),G=function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(m.a)(this,Object(d.a)(e).call(this,t))).startGenerate=function(){a.getAccountInfo()},a.generateTransaction=function(){var t=[a.state.toAddress,a.state.amount,a.state.note],e=JSON.stringify(t);console.log("STR = "+e);var n=new w.a.Transaction({chainID:1,from:a.state.fromAddress,to:a.state.contractAddress,value:0,nonce:a.state.accountInfo.nonce,gasPrice:2e10,gasLimit:2e5,contract:{function:"submitProposal",args:e}});console.log(n.toPlainObject()),a.setState({txString:JSON.stringify(n.toPlainObject())}),k.a.hide()},a.setFromAddress=function(t){console.log(t),a.setState({fromAddress:t})},a.setAmount=function(t){a.setState({amount:t})},a.setToAddress=function(t){a.setState({toAddress:t})},a.setContractAddress=function(t){a.setState({contractAddress:t})},a.setNote=function(t){a.setState({note:t})},a.state={toAddress:"",amount:"",fromAddress:R(),spinning:!1,note:"",txString:null,contractAddress:Z()},a}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){console.log(B.nas),this.state.contractAddress&&this.state.fromAddress||k.a.info("\u8bf7\u5148\u8bbe\u7f6e\u5408\u7ea6\u5730\u5740\u4ee5\u53caFrom"),console.log("1111111111",Object({NODE_ENV:"production",API_ENV:"prod",PUBLIC_URL:"."}))}},{key:"getAccountInfo",value:function(){var t=Object(C.a)(N.a.mark((function t(){var e;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k.a.loading(),t.next=3,T({address:this.state.fromAddress});case 3:(e=t.sent).result?(console.log(e.result),this.setState({accountInfo:e.result}),this.generateTransaction()):k.a.hide();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e='{"pageParams":{"pay":{"currency":"NAS","value":"0","to":"'.concat(this.state.contractAddress,'","payload":{"function":"submitProposal","args":"[\\"').concat(this.state.toAddress,'\\",\\"').concat(this.state.amount,'\\",\\"').concat(this.state.note,'\\"]","type":"call"}}},"des":"confirmTransfer","category":"jump"}');return r.a.createElement("div",{className:_.a.container},r.a.createElement("h2",null,"\u53d1\u8d77\u63d0\u6848"),r.a.createElement("div",{style:{width:"100%",height:"1px",backgroundColor:"rgba(0,0,0,0.6)"}}),r.a.createElement("div",{className:_.a.inputContainer},r.a.createElement("span",{className:_.a.inputName},"To Address"),r.a.createElement(S.a,{placeholder:"To Address",className:_.a.proposalInput,onChange:function(e){return t.setToAddress(e)}})),r.a.createElement("div",{className:_.a.inputContainer},r.a.createElement("span",{className:_.a.inputName},"Amount"),r.a.createElement(S.a,{placeholder:"Amount",className:_.a.proposalInput,onChange:function(e){return t.setAmount(e)}})),r.a.createElement("div",{className:_.a.inputContainer},r.a.createElement("span",{className:_.a.inputName},"Proposal Note"),r.a.createElement(S.a,{placeholder:"Note (optional)",className:_.a.proposalInput,onChange:function(e){return t.setNote(e)}})),r.a.createElement("div",null,r.a.createElement("button",{className:_.a.genButton,onClick:this.startGenerate},"\u751f\u6210\u4ea4\u6613")),!!this.state.txString&&r.a.createElement("div",{className:_.a.txContainer},r.a.createElement("p",null,this.state.txString)),!!this.state.txString&&r.a.createElement("div",null,r.a.createElement("p",null,"\u4f7f\u7528Nas Nano Pro \u626b\u7801"),r.a.createElement(V.a,{value:e,size:150})))}}]),e}(r.a.Component),X=(a(78),a(41)),H=a.n(X),W=a(25),q=a.n(W),z=H.a.Item,Y=(z.Brief,function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(m.a)(this,Object(d.a)(e).call(this,t))).setList=function(t){var e=[];for(var n in t){var o=Object.keys(t[n].vote),s="";for(var c in o){s=s+o[c].slice(-5)+": ","0"==t[n].vote[o[c]]?s+="NO  ":s+="YES  "}e.push(r.a.createElement(z,null,r.a.createElement("div",{className:q.a.cellContainer},r.a.createElement("div",{className:q.a.indexContainer},r.a.createElement("span",{className:q.a.textSpanBold},"Index ".concat(t[n].index))),r.a.createElement("div",{className:q.a.middleContainer},r.a.createElement("div",null,r.a.createElement("span",{className:q.a.textSpan},"Amount:")," ",r.a.createElement("span",{className:q.a.textSpanBold},"".concat(t[n].amount))," ",r.a.createElement("span",{className:q.a.textSpan},"To Address:")," ",r.a.createElement("span",{className:q.a.textSpanBold}," ".concat(t[n].toAddress))),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement("span",{className:q.a.textSpan},"Voted By:"),r.a.createElement("span",{className:q.a.textSpan},"".concat(s))," "),r.a.createElement("div",null,r.a.createElement("span",{className:q.a.textSpan},"Notes: ".concat(t[n].note)))),r.a.createElement("div",{className:q.a.rightContainer},r.a.createElement("span",{style:"Declined"==t[n].status?{color:"red"}:{color:"black"}},t[n].status)))))}a.setState({list:e})},a.state={contractAddress:Z()},a}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.getHistory(),this.state.contractAddress||k.a.info("\u8bf7\u5148\u8bbe\u7f6e\u5408\u7ea6\u5730\u5740")}},{key:"getHistory",value:function(){var t=Object(C.a)(N.a.mark((function t(){var e,a,n,r,o;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k.a.loading(),t.prev=1,e=[],a='{"from":"n1STxGuEZaneTtNiXoVLD8TdmSk48Erfvnd","to":"'.concat(this.state.contractAddress,'","value":"0","gasPrice":"20000000000","gasLimit":"2000000","contract":{"function":"getClosedProposal","args":"[]"}}'),console.log(a),t.next=7,j(JSON.parse(a));case 7:if("{}"!=(n=t.sent).result.result){t.next=11;break}return k.a.info("\u5217\u8868\u4e3a\u7a7a",1),t.abrupt("return");case 11:for(o in r=JSON.parse(n.result.result))e.push(r[o]);this.setState({history:e}),this.setList(e),console.log(e),k.a.hide(),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(1),k.a.hide(),console.log(t.t0);case 23:case"end":return t.stop()}}),t,this,[[1,19]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:q.a.container},r.a.createElement("h2",null,"\u5386\u53f2\u63d0\u6848"),r.a.createElement("div",{style:{width:"100%",height:"1px",backgroundColor:"rgba(0,0,0,0.6)"}}),r.a.createElement(H.a,{style:{backgroundColor:"rgb(243,243,248)"}},this.state.list))}}]),e}(r.a.Component)),$=a(53),tt=a(19),et=a.n(tt),at=H.a.Item,nt=(at.Brief,function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(m.a)(this,Object(d.a)(e).call(this,t))).voteAction=function(t,e){a.getAccountInfo(t,e),console.log("VOTE",t,e)},a.generateVoteTransaction=function(t,e){var n=[t,e],r=JSON.stringify(n);console.log("STR = "+r);var o={chainID:1,from:a.state.fromAddress,to:a.state.contractAddress,value:0,nonce:a.state.accountInfo.nonce,gasPrice:2e10,gasLimit:2e5,contract:{function:"voteForProposal",args:r}};console.log(o),a.setState({txString:JSON.stringify(o),index:t,decision:e}),k.a.hide()},a.setList=function(t){var e=[];for(var n in t){var o=Object.keys(t[n].vote),s="";for(var c in o){s=s+o[c].slice(-5)+": ","0"==t[n].vote[o[c]]?s+="NO  ":s+="YES  "}e.push(r.a.createElement(at,null,r.a.createElement("div",{className:et.a.cellContainer},r.a.createElement("div",{className:et.a.indexContainer},r.a.createElement("span",{className:et.a.textSpanBold},"Index ".concat(t[n].index))),r.a.createElement("div",{className:et.a.middleContainer},r.a.createElement("div",null,r.a.createElement("span",{className:et.a.textSpan},"Amount:")," ",r.a.createElement("span",{className:et.a.textSpanBold},"".concat(t[n].amount))," ",r.a.createElement("span",{className:et.a.textSpan},"To Address:")," ",r.a.createElement("span",{className:et.a.textSpanBold}," ".concat(t[n].toAddress))),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement("span",{className:et.a.textSpan},"Voted By:"),r.a.createElement("span",{className:et.a.textSpan},"".concat(s))," "),r.a.createElement("div",null,r.a.createElement("span",{className:et.a.textSpan},"Notes: ".concat(t[n].note))),r.a.createElement("div",null,r.a.createElement("button",{className:et.a.agreeButton,onClick:a.voteAction.bind(Object($.a)(a),t[n].index,1)},"\u540c\u610f"),r.a.createElement("button",{className:et.a.declineButton,onClick:a.voteAction.bind(Object($.a)(a),t[n].index,0)},"\u62d2\u7edd"))),r.a.createElement("div",{className:et.a.rightContainer},r.a.createElement("span",{style:"Declined"==t[n].status?{color:"red"}:{color:"black"}},t[n].status)))))}a.setState({list:e})},a.state={contractAddress:Z(),fromAddress:R()},a}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.state.contractAddress&&this.state.fromAddress||k.a.info("\u8bf7\u5148\u8bbe\u7f6e\u5408\u7ea6\u5730\u5740\u4ee5\u53caFrom"),this.getOpenProposal()}},{key:"getOpenProposal",value:function(){var t=Object(C.a)(N.a.mark((function t(){var e,a,n,r,o;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k.a.loading(),t.prev=1,e=[],a='{"from":"'.concat(this.state.fromAddress,'","to":"').concat(this.state.contractAddress,'","value":"0","gasPrice":"20000000000","gasLimit":"2000000","contract":{"function":"getOpenProposal","args":"[]"}}'),console.log(a),t.next=7,j(JSON.parse(a));case 7:if(n=t.sent,console.log(n),"{}"!=n.result.result){t.next=12;break}return k.a.info("\u5217\u8868\u4e3a\u7a7a",1),t.abrupt("return");case 12:for(o in r=JSON.parse(n.result.result))e.push(r[o]);this.setState({openProposal:e}),this.setList(e),console.log(r),k.a.hide(),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(1),k.a.hide(),console.log(t.t0);case 24:case"end":return t.stop()}}),t,this,[[1,20]])})));return function(){return t.apply(this,arguments)}}()},{key:"getAccountInfo",value:function(){var t=Object(C.a)(N.a.mark((function t(e,a){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k.a.loading(),t.next=3,T({address:this.state.fromAddress});case 3:(n=t.sent).result?(console.log(n.result),this.setState({accountInfo:n.result}),this.generateVoteTransaction(e,a)):k.a.hide();case 5:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t='{"pageParams":{"pay":{"currency":"NAS","value":"0","to":"'.concat(this.state.contractAddress,'","payload":{"function":"voteForProposal","args":"[\\"').concat(this.state.index,'\\",\\"').concat(this.state.decision,'\\"]","type":"call"}}},"des":"confirmTransfer","category":"jump"}');return r.a.createElement("div",{className:et.a.container},r.a.createElement("h2",null,"\u6295\u7968"),r.a.createElement("div",{style:{width:"100%",height:"1px",backgroundColor:"rgba(0,0,0,0.6)"}}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(H.a,{style:{backgroundColor:"rgb(243,243,248)"}},this.state.list)),r.a.createElement("div",null,!!this.state.txString&&r.a.createElement("div",{className:et.a.txContainer},r.a.createElement("p",null,this.state.txString))),!!this.state.txString&&r.a.createElement("div",null,r.a.createElement("p",null,"\u4f7f\u7528Nas Nano Pro \u626b\u7801"),r.a.createElement(V.a,{value:t,size:150}))))}}]),e}(r.a.Component)),rt=a(35),ot=a.n(rt),st=a(144),ct=a.n(st),lt=function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(m.a)(this,Object(d.a)(e).call(this,t))).setContract=function(t){a.setState({contractAddress:t})},a.setFrom=function(t){a.setState({from:t})},a.confirmContract=function(){var t;t=a.state.contractAddress,K.a.set(Q,t),console.log("stored Contract: ".concat(t)),k.a.info("\u5408\u7ea6\u8bbe\u7f6e\u6210\u529f",1)},a.state={contractAddress:Z(),info:"",from:R()},a}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.state.contractAddress&&this.state.from&&this.getContractInfo()}},{key:"getContractInfo",value:function(){var t=Object(C.a)(N.a.mark((function t(){var e,a,n,r,o,s,c,l,i;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k.a.loading(),u=this.state.from,K.a.set(L,u),console.log("stored from: ".concat(u)),t.prev=2,e='{"from":"'.concat(this.state.from,'","to":"').concat(this.state.contractAddress,'","value":"0","gasPrice":"20000000000","gasLimit":"2000000","contract":{"function":"getContractInfo","args":"[]"}}'),t.next=6,j(JSON.parse(e));case 6:for(o in a=t.sent,n=JSON.parse(a.result.result),r=[],n.chairGroup)s=n.chairGroup[o]+"\n",r.push(s);for(l in c=[],n.execGroup)i=n.execGroup[l]+"\n",c.push(i);this.setState({chairGroup:r,execGroup:c,tokenContract:n.tokenContract}),this.getBalance(),console.log(n),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),console.log(t.t0);case 20:case"end":return t.stop()}var u}),t,this,[[2,17]])})));return function(){return t.apply(this,arguments)}}()},{key:"getBalance",value:function(){var t=Object(C.a)(N.a.mark((function t(){var e,a,n,r,o,s;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("BALANCE FUNCTION"),t.prev=1,e='{"from":"n1STxGuEZaneTtNiXoVLD8TdmSk48Erfvnd","to":"'.concat(this.state.tokenContract,'","value":"0","gasPrice":"20000000000","gasLimit":"2000000","contract":{"function":"balanceOf","args":"[\\"').concat(this.state.contractAddress,'\\"]"}}'),console.log(e),t.next=6,j(JSON.parse(e));case 6:a=t.sent,n=JSON.parse(a.result.result),console.log(n),r=new ct.a(n),o=new ct.a(1e18),s=r.dividedBy(o),this.setState({balance:n,actualBalance:s.toString()}),k.a.hide(),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(1),k.a.hide(),console.log(t.t0);case 20:case"end":return t.stop()}}),t,this,[[1,16]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:ot.a.container},r.a.createElement("h2",null,"\u6cbb\u7406\u5408\u7ea6"),r.a.createElement("div",{style:{width:"100%",height:"1px",backgroundColor:"rgba(0,0,0,0.6)"}}),r.a.createElement("div",{className:ot.a.inputContainer},r.a.createElement("span",{className:ot.a.inputName},"\u5408\u7ea6\u5730\u5740"),r.a.createElement(S.a,{placeholder:"Contract Address",className:ot.a.proposalInput,onChange:function(e){return t.setContract(e)},value:this.state.contractAddress})),r.a.createElement("div",null,r.a.createElement("button",{className:ot.a.genButton,onClick:this.confirmContract.bind(this)},"\u8bbe\u7f6e\u6cbb\u7406\u5408\u7ea6")),r.a.createElement("div",{className:ot.a.inputContainer},r.a.createElement("span",{className:ot.a.inputName},"From \u5730\u5740"),r.a.createElement(S.a,{placeholder:"From Address",className:ot.a.proposalInput,onChange:function(e){return t.setFrom(e)},value:this.state.from})),r.a.createElement("div",null,r.a.createElement("button",{className:ot.a.genButton,onClick:this.getContractInfo.bind(this)},"\u8bbe\u7f6eFrom")),!!this.state.tokenContract&&r.a.createElement("div",null,r.a.createElement("p",null,"\u5408\u7ea6\u72b6\u6001"),r.a.createElement("div",{className:ot.a.txContainer},r.a.createElement("p",null,"Contract: ",this.state.contractAddress),r.a.createElement("p",null,"executors: ",this.state.execGroup),r.a.createElement("p",null,"chairs: ",this.state.chairGroup),r.a.createElement("p",null,"TokenContract: ",this.state.tokenContract),r.a.createElement("p",null,"Balance: ",this.state.balance," (",this.state.actualBalance,")"))))}}]),e}(r.a.Component),it=a(21),ut=a.n(it),mt=H.a.Item,dt=(mt.Brief,function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(m.a)(this,Object(d.a)(e).call(this,t))).proceedAction=function(t){a.getAccountInfo(t),console.log("START",t)},a.generateVoteTransaction=function(t){var e=[t],n=JSON.stringify(e);console.log("STR = "+n);var r={chainID:1,from:a.state.fromAddress,to:a.state.contractAddress,value:0,nonce:a.state.accountInfo.nonce,gasPrice:2e10,gasLimit:2e5,contract:{function:"startTransferForProposal",args:n}};console.log(r),a.setState({txString:JSON.stringify(r),index:t}),k.a.hide()},a.setList=function(t){var e=[];for(var n in t){var o=Object.keys(t[n].vote),s="";for(var c in o){s=s+o[c].slice(-5)+": ","0"==t[n].vote[o[c]]?s+="NO  ":s+="YES  "}e.push(r.a.createElement(mt,null,r.a.createElement("div",{className:ut.a.cellContainer},r.a.createElement("div",{className:ut.a.indexContainer},r.a.createElement("span",{className:ut.a.textSpanBold},"Index ".concat(t[n].index))),r.a.createElement("div",{className:ut.a.middleContainer},r.a.createElement("div",null,r.a.createElement("span",{className:ut.a.textSpan},"Amount:")," ",r.a.createElement("span",{className:ut.a.textSpanBold},"".concat(t[n].amount))," ",r.a.createElement("span",{className:ut.a.textSpan},"To Address:")," ",r.a.createElement("span",{className:ut.a.textSpanBold}," ".concat(t[n].toAddress))),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement("span",{className:ut.a.textSpan},"Voted By:"),r.a.createElement("span",{className:ut.a.textSpan},"".concat(s))," "),r.a.createElement("div",null,r.a.createElement("span",{className:ut.a.textSpan},"Notes: ".concat(t[n].note))),r.a.createElement("div",null,r.a.createElement("button",{className:ut.a.agreeButton,onClick:a.proceedAction.bind(Object($.a)(a),t[n].index)},"\u6267\u884c\u8f6c\u8d26"))),r.a.createElement("div",{className:ut.a.rightContainer},r.a.createElement("span",{style:"Declined"==t[n].status?{color:"red"}:{color:"black"}},t[n].status)))))}a.setState({list:e})},a.state={contractAddress:Z(),fromAddress:R()},a}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.state.contractAddress&&this.state.fromAddress||k.a.info("\u8bf7\u5148\u8bbe\u7f6e\u5408\u7ea6\u5730\u5740\u4ee5\u53caFrom"),this.getApprovedProposal()}},{key:"getApprovedProposal",value:function(){var t=Object(C.a)(N.a.mark((function t(){var e,a,n,r,o;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k.a.loading(),t.prev=1,e=[],a='{"from":"'.concat(this.state.fromAddress,'","to":"').concat(this.state.contractAddress,'","value":"0","gasPrice":"20000000000","gasLimit":"2000000","contract":{"function":"getAwaitTransferProposal","args":"[]"}}'),console.log(a),t.next=7,j(JSON.parse(a));case 7:if(n=t.sent,console.log(n),"{}"!=n.result.result){t.next=12;break}return k.a.info("\u5217\u8868\u4e3a\u7a7a",1),t.abrupt("return");case 12:for(o in r=JSON.parse(n.result.result))e.push(r[o]);this.setState({openProposal:e}),this.setList(e),console.log(r),k.a.hide(),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(1),k.a.hide(),console.log(t.t0);case 24:case"end":return t.stop()}}),t,this,[[1,20]])})));return function(){return t.apply(this,arguments)}}()},{key:"getAccountInfo",value:function(){var t=Object(C.a)(N.a.mark((function t(e){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k.a.loading(),t.next=3,T({address:this.state.fromAddress});case 3:(a=t.sent).result?(console.log(a.result),this.setState({accountInfo:a.result}),this.generateVoteTransaction(e)):k.a.hide();case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t='{"pageParams":{"pay":{"currency":"NAS","value":"0","to":"'.concat(this.state.contractAddress,'","payload":{"function":"startTransferForProposal","args":"[\\"').concat(this.state.index,'\\"]","type":"call"}}},"des":"confirmTransfer","category":"jump"}');return r.a.createElement("div",{className:ut.a.container},r.a.createElement("h2",null,"\u6267\u884c\u8f6c\u8d26"),r.a.createElement("div",{style:{width:"100%",height:"1px",backgroundColor:"rgba(0,0,0,0.6)"}}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(H.a,{style:{backgroundColor:"rgb(243,243,248)"}},this.state.list)),r.a.createElement("div",null,!!this.state.txString&&r.a.createElement("div",{className:ut.a.txContainer},r.a.createElement("p",null,this.state.txString)),!!this.state.txString&&r.a.createElement("div",null,r.a.createElement("p",null,"\u4f7f\u7528Nas Nano Pro \u626b\u7801"),r.a.createElement(V.a,{value:t,size:150})))))}}]),e}(r.a.Component));var pt=function(){return r.a.createElement("div",null,r.a.createElement(c.a,null,r.a.createElement(E,null),r.a.createElement(l.a,{exact:!0,path:"/governance",component:G}),r.a.createElement(l.a,{path:"/governance/history",component:Y}),r.a.createElement(l.a,{path:"/governance/vote",component:nt}),r.a.createElement(l.a,{path:"/governance/transfer",component:dt}),r.a.createElement(l.a,{path:"/governance/contract",component:lt})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(pt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[232,1,2]]]);
//# sourceMappingURL=main.b8e7f054.chunk.js.map