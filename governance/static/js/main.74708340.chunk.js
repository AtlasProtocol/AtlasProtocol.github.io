(window.webpackJsonpgovernance=window.webpackJsonpgovernance||[]).push([[0],{151:function(e,t,a){e.exports={box:"style_box__dzq78","loader-01":"style_loader-01__1N6qy"}},16:function(e,t,a){e.exports={container:"style_container__vMP_3",cellContainer:"style_cellContainer__2XE2t",indexContainer:"style_indexContainer__2WUh2",middleContainer:"style_middleContainer__1pVDp",rightContainer:"style_rightContainer__CANtl",textSpan:"style_textSpan__3NQVf",textSpanBold:"style_textSpanBold__36yJE",declineButton:"style_declineButton__2qX5n",agreeButton:"style_agreeButton__TumXy",txContainer:"style_txContainer__dG5T_"}},20:function(e,t,a){e.exports={container:"style_container__1YADF",cellContainer:"style_cellContainer__3OomX",indexContainer:"style_indexContainer__w8A03",middleContainer:"style_middleContainer__14TTZ",rightContainer:"style_rightContainer__2XKW4",textSpan:"style_textSpan__1yd5i",textSpanBold:"style_textSpanBold__27p4g",declineButton:"style_declineButton__iR1Ts",agreeButton:"style_agreeButton__2bglx",txContainer:"style_txContainer__252hl"}},24:function(e,t,a){e.exports={container:"style_container__n9ZJU",leftContainer:"style_leftContainer__mXr4G",rightContainer:"style_rightContainer__d6sMu",topButton:"style_topButton__1KMHv"}},240:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAikAAACQCAMAAAD6Fwu4AAAAilBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////iVxWkAAAALXRSTlMAMBDQwGDwZoBAIKDgcJBQsAZTEyYaM006LUYN01ryupb2xsMihRaOtoSIjHx3424YAAAACXBIWXMAAAsSAAALEgHS3X78AAANGUlEQVR42u2d53bkLBKGrYAslNvtdpqdL2/evv/bW9vjsQABqiLK59T7c8bdkuChEiX65oZEIpFIJBKJRCKRSCQSiUQikUgkEklVS0NAgohdCxoE0r749UpGhbSvorleKxoG0p7K6vqqjgaCtKP6DZTrSANBsqt/B4XcD2k37fkQuR/STtrzIXI/pJ2050MLjQZpJ+35UEnjQbKnPR9iNB4ke9pD7ocETHvI/ZBgaQ+5HxIs7flQT4NC2kl7fqihUSHtpD0fmmlYSPa0h9wPCZj2kPs5WnDA35R/L6646kXuJ7s6NtWDvH7rum/HPNR0jYGUKUOuXotiqCWH0mak2edVwzx24fQk8sRMw9WsepoTl7w0ac+HhvSkTE51Yn5Fa9Mp3K5TEORJWnlaXRbN7kPwtJOzmO8kfYt+5RQpHZEUZZ7R63cBPATPuIozu5/SDdUDklL6xXy8uR6NFGa7k+TuR72b8cuSMnstOgZ7iJSkFPZbSe1+1LpO/WVJUU11FQGUlKR0DXI8I2sT639ZUjZpAiJPKZrDkWJOe1xWQgBwHcfieKSUV4+teXVWmlpWBlL24+u0BR7maNSORwrz2BuR8uth1OJQ8HGqm2SkTPsDmrZFf0subNaKeivBkQ2a/2ZxSends4NS8D39MY4SgMRNad2Pxj+HqHy1uL8PQcrgbp7H1evwQ3Cyl/ZkcD9FyKAtKymd5kmggcpnlNIc5GySDhZgp3Q/Y8jiX1ZSdE+yYJfLQV7OM6Y91ZytRX8N6nt/95eVlM+AqxqwWxNjxl03VNpTlYqPTbhfKfg8/+tnJeXTXrc9toy5HOw1mskMimI607XocyFPqL2b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"},246:function(e,t,a){e.exports=a(507)},25:function(e,t,a){e.exports={container:"style_container__2hacf",inputContainer:"style_inputContainer__hi5oX",txContainer:"style_txContainer__m2C1N",proposalInput:"style_proposalInput__1vd4H",inputName:"style_inputName__3Qq_9",genButton:"style_genButton__1QqyK"}},251:function(e,t,a){},252:function(e,t,a){},26:function(e,t,a){e.exports={container:"style_container__1dw1C",cellContainer:"style_cellContainer__2daYW",indexContainer:"style_indexContainer__3lD7A",middleContainer:"style_middleContainer__3YCwe",rightContainer:"style_rightContainer__2idDS",textSpan:"style_textSpan__259hl",textSpanBold:"style_textSpanBold__XTL3t"}},30:function(e,t,a){e.exports={container:"style_container__3TUf4",inputContainer:"style_inputContainer__E24tl",txContainer:"style_txContainer__18tvb",proposalInput:"style_proposalInput__1S8Z1",inputName:"style_inputName__1gTzc",genButton:"style_genButton__2RZjo",headerContainer:"style_headerContainer__2aaKZ"}},343:function(e,t){},345:function(e,t){},367:function(e,t){},369:function(e,t){},507:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(40),s=a.n(o),c=(a(251),a(252),a(48)),l=a(47),i=a(14),u=a(21),m=a(19),d=a(9),p=a(18),f=a(24),g=a.n(f),h=a(240),v=a.n(h),E=function(e){function t(e){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:g.a.container},r.a.createElement("div",{className:g.a.leftContainer},r.a.createElement("img",{src:v.a,style:{height:"40px",paddingTop:"5px"}})),r.a.createElement("div",{className:g.a.rightContainer},r.a.createElement("button",{className:g.a.topButton},r.a.createElement(c.b,{to:"/governance/",className:g.a.topButton},"\u63d0\u6848")),r.a.createElement("button",{className:g.a.topButton},r.a.createElement(c.b,{to:"/governance/vote",className:g.a.topButton},"\u6295\u7968")),r.a.createElement("button",{className:g.a.topButton},r.a.createElement(c.b,{to:"/governance/transfer",className:g.a.topButton},"\u6267\u884c\u8f6c\u8d26")),r.a.createElement("button",{className:g.a.topButton},r.a.createElement(c.b,{to:"/governance/history",className:g.a.topButton},"\u5386\u53f2\u63d0\u6848")),r.a.createElement("button",{className:g.a.topButton},r.a.createElement(c.b,{to:"/governance/contract",className:g.a.topButton},"\u6cbb\u7406\u5408\u7ea6"))))}}]),t}(r.a.Component),x=(a(158),a(57)),N=a.n(x),A=a(4),S=a.n(A),b=a(10),C=(a(74),a(5)),y=a.n(C),k=a(25),_=a.n(k),B=a(149),O={nas:"https://mainnet.nebulas.io",nas_explorer:"https://explorer.nebulas.io/#/"},P=function(e){return j("".concat(O.nas,"/v1/user/accountstate"),e)},T=function(e){return j("".concat(O.nas,"/v1/user/call"),e)};function j(e,t){return B.a.post(e,{json:t}).json()}var w=a(100),I=a.n(w),U=a(151),F=a.n(U),K=(r.a.Component,a(101)),J=a.n(K),L="contractAddress",Q="fromAddress";function Z(){return M(L)}function R(){return M(Q)}function M(e){var t=J.a.get(e);return"undefined"===typeof t?"":t}var D=a(70),V=a.n(D),G=a(41),W=a.n(G),X=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).startGenerate=function(){a.getAccountInfo()},a.generateTransaction=function(){var e=[a.state.toAddress,a.state.amount,a.state.note],t=JSON.stringify(e);console.log("STR = "+t);var n=new I.a.Transaction({chainID:1,from:a.state.fromAddress,to:a.state.contractAddress,value:0,nonce:a.state.accountInfo.nonce,gasPrice:2e10,gasLimit:2e5,contract:{function:"submitProposal",args:t}});console.log(n.toPlainObject()),a.setState({txString:JSON.stringify(n.toPlainObject())}),y.a.hide()},a.setFromAddress=function(e){console.log(e),a.setState({fromAddress:e})},a.setAmount=function(e){a.setState({amount:e})},a.setToAddress=function(e){a.setState({toAddress:e})},a.setContractAddress=function(e){a.setState({contractAddress:e})},a.setNote=function(e){a.setState({note:e})},a.nebpayAction=function(){var e="".concat(a.state.contractAddress),t='["'.concat(a.state.toAddress,'","').concat(a.state.amount,'","').concat(a.state.note,'"]'),n={gasLimit:"200000",callback:W.a.config.mainnetUrl};a.serialNumber=a.nebPay.call(e,"0","submitProposal",t,n),console.log(a.serialNumber)},a.state={toAddress:"",amount:"",fromAddress:R(),spinning:!1,note:"",txString:null,contractAddress:Z()},a.nebPay=new W.a,a.serialNumber="",a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){console.log(O.nas),this.state.contractAddress&&this.state.fromAddress||y.a.info("\u8bf7\u5148\u8bbe\u7f6e\u5408\u7ea6\u5730\u5740\u4ee5\u53caFrom"),console.log("1111111111",Object({NODE_ENV:"production",API_ENV:"prod",PUBLIC_URL:"/governance"}))}},{key:"getAccountInfo",value:function(){var e=Object(b.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.a.loading(),e.next=3,P({address:this.state.fromAddress});case 3:(t=e.sent).result?(console.log(t.result),this.setState({accountInfo:t.result}),this.generateTransaction()):y.a.hide();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t='{"pageParams":{"pay":{"currency":"NAS","value":"0","to":"'.concat(this.state.contractAddress,'","payload":{"function":"submitProposal","args":"[\\"').concat(this.state.toAddress,'\\",\\"').concat(this.state.amount,'\\",\\"').concat(this.state.note,'\\"]","type":"call"}}},"des":"confirmTransfer","category":"jump"}');return r.a.createElement("div",{className:_.a.container},r.a.createElement("h2",null,"\u53d1\u8d77\u63d0\u6848"),r.a.createElement("div",{style:{width:"100%",height:"1px",backgroundColor:"rgba(0,0,0,0.6)"}}),r.a.createElement("div",{className:_.a.inputContainer},r.a.createElement("span",{className:_.a.inputName},"To Address"),r.a.createElement(N.a,{placeholder:"To Address",className:_.a.proposalInput,onChange:function(t){return e.setToAddress(t)}})),r.a.createElement("div",{className:_.a.inputContainer},r.a.createElement("span",{className:_.a.inputName},"Amount"),r.a.createElement(N.a,{placeholder:"Amount",className:_.a.proposalInput,onChange:function(t){return e.setAmount(t)}})),r.a.createElement("div",{className:_.a.inputContainer},r.a.createElement("span",{className:_.a.inputName},"Proposal Note"),r.a.createElement(N.a,{placeholder:"Note (optional)",className:_.a.proposalInput,onChange:function(t){return e.setNote(t)}})),r.a.createElement("div",null,r.a.createElement("button",{className:_.a.genButton,onClick:this.startGenerate},"\u751f\u6210\u4ea4\u6613")),!!this.state.txString&&r.a.createElement("div",{className:_.a.txContainer},r.a.createElement("p",null,this.state.txString)),!!this.state.txString&&r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"\u4f7f\u7528Nas Nano Pro \u626b\u7801")),r.a.createElement(V.a,{value:t,size:150})),!!this.state.txString&&r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"\u4f7f\u7528Nas Wallet Extension")),r.a.createElement("button",{className:_.a.genButton,onClick:this.nebpayAction},"\u53d1\u8d77\u4ea4\u6613")))}}]),t}(r.a.Component),H=(a(82),a(42)),q=a.n(H),z=a(26),Y=a.n(z),$=q.a.Item,ee=($.Brief,function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).setList=function(e){var t=[];for(var n in e){var o=Object.keys(e[n].vote),s="";for(var c in o){s=s+o[c].slice(-5)+": ","0"==e[n].vote[o[c]]?s+="NO  ":s+="YES  "}t.push(r.a.createElement($,null,r.a.createElement("div",{className:Y.a.cellContainer},r.a.createElement("div",{className:Y.a.indexContainer},r.a.createElement("span",{className:Y.a.textSpanBold},"Index ".concat(e[n].index))),r.a.createElement("div",{className:Y.a.middleContainer},r.a.createElement("div",null,r.a.createElement("span",{className:Y.a.textSpan},"Amount:")," ",r.a.createElement("span",{className:Y.a.textSpanBold},"".concat(e[n].amount))," ",r.a.createElement("span",{className:Y.a.textSpan},"To Address:")," ",r.a.createElement("span",{className:Y.a.textSpanBold}," ".concat(e[n].toAddress))),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement("span",{className:Y.a.textSpan},"Voted By:"),r.a.createElement("span",{className:Y.a.textSpan},"".concat(s))," "),r.a.createElement("div",null,r.a.createElement("span",{className:Y.a.textSpan},"Notes: ".concat(e[n].note)))),r.a.createElement("div",{className:Y.a.rightContainer},r.a.createElement("span",{style:"Declined"==e[n].status?{color:"red"}:{color:"black"}},e[n].status)))))}a.setState({list:t})},a.state={contractAddress:Z()},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getHistory(),this.state.contractAddress||y.a.info("\u8bf7\u5148\u8bbe\u7f6e\u5408\u7ea6\u5730\u5740")}},{key:"getHistory",value:function(){var e=Object(b.a)(S.a.mark((function e(){var t,a,n,r,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.a.loading(),e.prev=1,t=[],a='{"from":"n1STxGuEZaneTtNiXoVLD8TdmSk48Erfvnd","to":"'.concat(this.state.contractAddress,'","value":"0","gasPrice":"20000000000","gasLimit":"2000000","contract":{"function":"getClosedProposal","args":"[]"}}'),console.log(a),e.next=7,T(JSON.parse(a));case 7:if("{}"!=(n=e.sent).result.result){e.next=11;break}return y.a.info("\u5217\u8868\u4e3a\u7a7a",1),e.abrupt("return");case 11:for(o in r=JSON.parse(n.result.result))t.push(r[o]);this.setState({history:t}),this.setList(t),console.log(t),y.a.hide(),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),y.a.hide(),console.log(e.t0);case 23:case"end":return e.stop()}}),e,this,[[1,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:Y.a.container},r.a.createElement("h2",null,"\u5386\u53f2\u63d0\u6848"),r.a.createElement("div",{style:{width:"100%",height:"1px",backgroundColor:"rgba(0,0,0,0.6)"}}),r.a.createElement(q.a,{style:{backgroundColor:"rgb(243,243,248)"}},this.state.list))}}]),t}(r.a.Component)),te=a(56),ae=a(16),ne=a.n(ae),re=q.a.Item,oe=(re.Brief,function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).voteAction=function(e,t){a.getAccountInfo(e,t),console.log("VOTE",e,t)},a.generateVoteTransaction=function(e,t){var n=[e,t],r=JSON.stringify(n);console.log("STR = "+r);var o={chainID:1,from:a.state.fromAddress,to:a.state.contractAddress,value:0,nonce:a.state.accountInfo.nonce,gasPrice:2e10,gasLimit:2e5,contract:{function:"voteForProposal",args:r}};console.log(o),a.setState({txString:JSON.stringify(o),index:e,decision:t}),y.a.hide()},a.nebpayAction=function(){var e="".concat(a.state.contractAddress),t='["'.concat(a.state.index,'","').concat(a.state.decision,'"]'),n={gasLimit:"200000",callback:W.a.config.mainnetUrl};a.serialNumber=a.nebPay.call(e,"0","voteForProposal",t,n),console.log(a.serialNumber)},a.setList=function(e){var t=[];for(var n in e){var o=Object.keys(e[n].vote),s="";for(var c in o){s=s+o[c].slice(-5)+": ","0"==e[n].vote[o[c]]?s+="NO  ":s+="YES  "}t.push(r.a.createElement(re,null,r.a.createElement("div",{className:ne.a.cellContainer},r.a.createElement("div",{className:ne.a.indexContainer},r.a.createElement("span",{className:ne.a.textSpanBold},"Index ".concat(e[n].index))),r.a.createElement("div",{className:ne.a.middleContainer},r.a.createElement("div",null,r.a.createElement("span",{className:ne.a.textSpan},"Amount:")," ",r.a.createElement("span",{className:ne.a.textSpanBold},"".concat(e[n].amount))," ",r.a.createElement("span",{className:ne.a.textSpan},"To Address:")," ",r.a.createElement("span",{className:ne.a.textSpanBold}," ".concat(e[n].toAddress))),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement("span",{className:ne.a.textSpan},"Voted By:"),r.a.createElement("span",{className:ne.a.textSpan},"".concat(s))," "),r.a.createElement("div",null,r.a.createElement("span",{className:ne.a.textSpan},"Notes: ".concat(e[n].note))),r.a.createElement("div",null,r.a.createElement("button",{className:ne.a.agreeButton,onClick:a.voteAction.bind(Object(te.a)(a),e[n].index,1)},"\u540c\u610f"),r.a.createElement("button",{className:ne.a.declineButton,onClick:a.voteAction.bind(Object(te.a)(a),e[n].index,0)},"\u62d2\u7edd"))),r.a.createElement("div",{className:ne.a.rightContainer},r.a.createElement("span",{style:"Declined"==e[n].status?{color:"red"}:{color:"black"}},e[n].status)))))}a.setState({list:t})},a.state={contractAddress:Z(),fromAddress:R()},a.nebPay=new W.a,a.serialNumber="",a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.state.contractAddress&&this.state.fromAddress||y.a.info("\u8bf7\u5148\u8bbe\u7f6e\u5408\u7ea6\u5730\u5740\u4ee5\u53caFrom"),this.getOpenProposal()}},{key:"getOpenProposal",value:function(){var e=Object(b.a)(S.a.mark((function e(){var t,a,n,r,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.a.loading(),e.prev=1,t=[],a='{"from":"'.concat(this.state.fromAddress,'","to":"').concat(this.state.contractAddress,'","value":"0","gasPrice":"20000000000","gasLimit":"2000000","contract":{"function":"getOpenProposal","args":"[]"}}'),console.log(a),e.next=7,T(JSON.parse(a));case 7:if(n=e.sent,console.log(n),"{}"!=n.result.result){e.next=12;break}return y.a.info("\u5217\u8868\u4e3a\u7a7a",1),e.abrupt("return");case 12:for(o in r=JSON.parse(n.result.result))t.push(r[o]);this.setState({openProposal:t}),this.setList(t),console.log(r),y.a.hide(),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(1),y.a.hide(),console.log(e.t0);case 24:case"end":return e.stop()}}),e,this,[[1,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAccountInfo",value:function(){var e=Object(b.a)(S.a.mark((function e(t,a){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.a.loading(),e.next=3,P({address:this.state.fromAddress});case 3:(n=e.sent).result?(console.log(n.result),this.setState({accountInfo:n.result}),this.generateVoteTransaction(t,a)):y.a.hide();case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e='{"pageParams":{"pay":{"currency":"NAS","value":"0","to":"'.concat(this.state.contractAddress,'","payload":{"function":"voteForProposal","args":"[\\"').concat(this.state.index,'\\",\\"').concat(this.state.decision,'\\"]","type":"call"}}},"des":"confirmTransfer","category":"jump"}');return r.a.createElement("div",{className:ne.a.container},r.a.createElement("h2",null,"\u6295\u7968"),r.a.createElement("div",{style:{width:"100%",height:"1px",backgroundColor:"rgba(0,0,0,0.6)"}}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(q.a,{style:{backgroundColor:"rgb(243,243,248)"}},this.state.list)),r.a.createElement("div",null,!!this.state.txString&&r.a.createElement("div",{className:ne.a.txContainer},r.a.createElement("p",null,this.state.txString))),!!this.state.txString&&r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"\u4f7f\u7528Nas Nano Pro \u626b\u7801")),r.a.createElement(V.a,{value:e,size:150})),!!this.state.txString&&r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"\u4f7f\u7528Nas Wallet Extension")),r.a.createElement("button",{className:ne.a.agreeButton,onClick:this.nebpayAction},"\u53d1\u8d77\u4ea4\u6613"))))}}]),t}(r.a.Component)),se=a(30),ce=a.n(se),le=a(152),ie=a.n(le),ue=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).setContract=function(e){a.setState({contractAddress:e})},a.setFrom=function(e){a.setState({from:e})},a.confirmContract=function(){var e;e=a.state.contractAddress,J.a.set(L,e),console.log("stored Contract: ".concat(e)),y.a.info("\u5408\u7ea6\u8bbe\u7f6e\u6210\u529f",1)},a.getContractCode=function(){window.open("https://github.com/AtlasProtocol/interactions/tree/develop/contracts/NAS/governance")},a.state={contractAddress:Z(),info:"",from:R()},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.state.contractAddress&&this.state.from&&this.getContractInfo()}},{key:"getContractInfo",value:function(){var e=Object(b.a)(S.a.mark((function e(){var t,a,n,r,o,s,c,l,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.a.loading(),u=this.state.from,J.a.set(Q,u),console.log("stored from: ".concat(u)),e.prev=2,t='{"from":"'.concat(this.state.from,'","to":"').concat(this.state.contractAddress,'","value":"0","gasPrice":"20000000000","gasLimit":"2000000","contract":{"function":"getContractInfo","args":"[]"}}'),e.next=6,T(JSON.parse(t));case 6:for(o in a=e.sent,n=JSON.parse(a.result.result),r=[],n.chairGroup)s=n.chairGroup[o]+"\n",r.push(s);for(l in c=[],n.execGroup)i=n.execGroup[l]+"\n",c.push(i);this.setState({chairGroup:r,execGroup:c,tokenContract:n.tokenContract}),this.getBalance(),console.log(n),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),console.log(e.t0);case 20:case"end":return e.stop()}var u}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=Object(b.a)(S.a.mark((function e(){var t,a,n,r,o,s;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("BALANCE FUNCTION"),e.prev=1,t='{"from":"n1STxGuEZaneTtNiXoVLD8TdmSk48Erfvnd","to":"'.concat(this.state.tokenContract,'","value":"0","gasPrice":"20000000000","gasLimit":"2000000","contract":{"function":"balanceOf","args":"[\\"').concat(this.state.contractAddress,'\\"]"}}'),console.log(t),e.next=6,T(JSON.parse(t));case 6:a=e.sent,n=JSON.parse(a.result.result),console.log(n),r=new ie.a(n),o=new ie.a(1e18),s=r.dividedBy(o),this.setState({balance:n,actualBalance:s.toString()}),y.a.hide(),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),y.a.hide(),console.log(e.t0);case 20:case"end":return e.stop()}}),e,this,[[1,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:ce.a.container},r.a.createElement("div",{className:ce.a.headerContainer},r.a.createElement("h2",null,"\u6cbb\u7406\u5408\u7ea6"),r.a.createElement("div",null,r.a.createElement("button",{className:ce.a.genButton,onClick:this.getContractCode.bind(this)},"\u67e5\u770b\u5408\u7ea6\u4ee3\u7801"))),r.a.createElement("div",{style:{width:"100%",height:"1px",backgroundColor:"rgba(0,0,0,0.6)"}}),r.a.createElement("div",{className:ce.a.inputContainer},r.a.createElement("span",{className:ce.a.inputName},"\u5408\u7ea6\u5730\u5740"),r.a.createElement(N.a,{placeholder:"Contract Address",className:ce.a.proposalInput,onChange:function(t){return e.setContract(t)},value:this.state.contractAddress})),r.a.createElement("div",null,r.a.createElement("button",{className:ce.a.genButton,onClick:this.confirmContract.bind(this)},"\u8bbe\u7f6e\u6cbb\u7406\u5408\u7ea6")),r.a.createElement("div",{className:ce.a.inputContainer},r.a.createElement("span",{className:ce.a.inputName},"From \u5730\u5740"),r.a.createElement(N.a,{placeholder:"From Address",className:ce.a.proposalInput,onChange:function(t){return e.setFrom(t)},value:this.state.from})),r.a.createElement("div",null,r.a.createElement("button",{className:ce.a.genButton,onClick:this.getContractInfo.bind(this)},"\u8bbe\u7f6eFrom")),!!this.state.tokenContract&&r.a.createElement("div",null,r.a.createElement("p",null,"\u5408\u7ea6\u72b6\u6001"),r.a.createElement("div",{className:ce.a.txContainer},r.a.createElement("p",null,"Contract: ",this.state.contractAddress),r.a.createElement("p",null,"executors: ",this.state.execGroup),r.a.createElement("p",null,"chairs: ",this.state.chairGroup),r.a.createElement("p",null,"TokenContract: ",this.state.tokenContract),r.a.createElement("p",null,"Balance: ",this.state.balance," (",this.state.actualBalance,")"))))}}]),t}(r.a.Component),me=a(20),de=a.n(me),pe=q.a.Item,fe=(pe.Brief,function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).proceedAction=function(e){a.getAccountInfo(e),console.log("START",e)},a.generateVoteTransaction=function(e){var t=[e],n=JSON.stringify(t);console.log("STR = "+n);var r={chainID:1,from:a.state.fromAddress,to:a.state.contractAddress,value:0,nonce:a.state.accountInfo.nonce,gasPrice:2e10,gasLimit:2e5,contract:{function:"startTransferForProposal",args:n}};console.log(r),a.setState({txString:JSON.stringify(r),index:e}),y.a.hide()},a.nebpayAction=function(){var e='"'.concat(a.state.contractAddress,'"'),t='["'.concat(a.state.index,'"]'),n={gasLimit:"200000",callback:W.a.config.mainnetUrl};a.serialNumber=a.nebPay.call(e,"0","startTransferForProposal",t,n),console.log(a.serialNumber)},a.setList=function(e){var t=[];for(var n in e){var o=Object.keys(e[n].vote),s="";for(var c in o){s=s+o[c].slice(-5)+": ","0"==e[n].vote[o[c]]?s+="NO  ":s+="YES  "}t.push(r.a.createElement(pe,null,r.a.createElement("div",{className:de.a.cellContainer},r.a.createElement("div",{className:de.a.indexContainer},r.a.createElement("span",{className:de.a.textSpanBold},"Index ".concat(e[n].index))),r.a.createElement("div",{className:de.a.middleContainer},r.a.createElement("div",null,r.a.createElement("span",{className:de.a.textSpan},"Amount:")," ",r.a.createElement("span",{className:de.a.textSpanBold},"".concat(e[n].amount))," ",r.a.createElement("span",{className:de.a.textSpan},"To Address:")," ",r.a.createElement("span",{className:de.a.textSpanBold}," ".concat(e[n].toAddress))),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement("span",{className:de.a.textSpan},"Voted By:"),r.a.createElement("span",{className:de.a.textSpan},"".concat(s))," "),r.a.createElement("div",null,r.a.createElement("span",{className:de.a.textSpan},"Notes: ".concat(e[n].note))),r.a.createElement("div",null,r.a.createElement("button",{className:de.a.agreeButton,onClick:a.proceedAction.bind(Object(te.a)(a),e[n].index)},"\u6267\u884c\u8f6c\u8d26"))),r.a.createElement("div",{className:de.a.rightContainer},r.a.createElement("span",{style:"Declined"==e[n].status?{color:"red"}:{color:"black"}},e[n].status)))))}a.setState({list:t})},a.state={contractAddress:Z(),fromAddress:R()},a.nebPay=new W.a,a.serialNumber="",a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.state.contractAddress&&this.state.fromAddress||y.a.info("\u8bf7\u5148\u8bbe\u7f6e\u5408\u7ea6\u5730\u5740\u4ee5\u53caFrom"),this.getApprovedProposal()}},{key:"getApprovedProposal",value:function(){var e=Object(b.a)(S.a.mark((function e(){var t,a,n,r,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.a.loading(),e.prev=1,t=[],a='{"from":"'.concat(this.state.fromAddress,'","to":"').concat(this.state.contractAddress,'","value":"0","gasPrice":"20000000000","gasLimit":"2000000","contract":{"function":"getAwaitTransferProposal","args":"[]"}}'),console.log(a),e.next=7,T(JSON.parse(a));case 7:if(n=e.sent,console.log(n),"{}"!=n.result.result){e.next=12;break}return y.a.info("\u5217\u8868\u4e3a\u7a7a",1),e.abrupt("return");case 12:for(o in r=JSON.parse(n.result.result))t.push(r[o]);this.setState({openProposal:t}),this.setList(t),console.log(r),y.a.hide(),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(1),y.a.hide(),console.log(e.t0);case 24:case"end":return e.stop()}}),e,this,[[1,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAccountInfo",value:function(){var e=Object(b.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.a.loading(),e.next=3,P({address:this.state.fromAddress});case 3:(a=e.sent).result?(console.log(a.result),this.setState({accountInfo:a.result}),this.generateVoteTransaction(t)):y.a.hide();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e='{"pageParams":{"pay":{"currency":"NAS","value":"0","to":"'.concat(this.state.contractAddress,'","payload":{"function":"startTransferForProposal","args":"[\\"').concat(this.state.index,'\\"]","type":"call"}}},"des":"confirmTransfer","category":"jump"}');return r.a.createElement("div",{className:de.a.container},r.a.createElement("h2",null,"\u6267\u884c\u8f6c\u8d26"),r.a.createElement("div",{style:{width:"100%",height:"1px",backgroundColor:"rgba(0,0,0,0.6)"}}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(q.a,{style:{backgroundColor:"rgb(243,243,248)"}},this.state.list)),r.a.createElement("div",null,!!this.state.txString&&r.a.createElement("div",{className:de.a.txContainer},r.a.createElement("p",null,this.state.txString)),!!this.state.txString&&r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"\u4f7f\u7528Nas Nano Pro \u626b\u7801")),r.a.createElement(V.a,{value:e,size:150})),!!this.state.txString&&r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"\u4f7f\u7528Nas Wallet Extension")),r.a.createElement("button",{className:de.a.agreeButton,onClick:this.nebpayAction},"\u53d1\u8d77\u4ea4\u6613")))))}}]),t}(r.a.Component));var ge=function(){return r.a.createElement("div",null,r.a.createElement(c.a,null,r.a.createElement(E,null),r.a.createElement(l.a,{exact:!0,path:"/governance",component:X}),r.a.createElement(l.a,{path:"/governance/history",component:ee}),r.a.createElement(l.a,{path:"/governance/vote",component:oe}),r.a.createElement(l.a,{path:"/governance/transfer",component:fe}),r.a.createElement(l.a,{path:"/governance/contract",component:ue})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[246,1,2]]]);
//# sourceMappingURL=main.74708340.chunk.js.map